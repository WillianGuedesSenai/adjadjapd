<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Willian ‚Ä¢ Experi√™ncia 3D++</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    :root{
      --bg-start:#0f0c29; --bg-mid:#302b63; --bg-end:#24243e;
      --neon-pink:#ff00c8; --neon-cyan:#00ffe7;
      --text:#f0f0f0; --muted:#bbb;
      --card-bg:rgba(255,255,255,0.06); --card-border:rgba(255,255,255,0.18);
    }
    *{ box-sizing:border-box; margin:0; padding:0 }
    html,body{ height:100% }
    body{
      font-family:'Poppins',sans-serif; color:var(--text);
      background:linear-gradient(135deg,var(--bg-start),var(--bg-mid),var(--bg-end));
      min-height:100vh; overflow-x:hidden; perspective:1200px;
    }

    /* Canvases de fundo */
    #bg-canvas,#fx-canvas,#matrix-canvas{
      position:fixed; inset:0; width:100vw; height:100vh; background:transparent; pointer-events:none;
    }
    #bg-canvas{ z-index:-3 }
    #fx-canvas{ z-index:-2 }
    #matrix-canvas{ z-index:-1; opacity:0; transition:opacity .4s ease }
    .matrix-on #matrix-canvas{ opacity:.9 }

    /* Cursor neon */
    #cursor-dot,#cursor-ring{ position:fixed; pointer-events:none; z-index:9999; mix-blend-mode:screen }
    #cursor-dot{ width:8px; height:8px; border-radius:50%; background:#fff; box-shadow:0 0 10px #fff,0 0 20px var(--neon-cyan); transform:translate(-50%,-50%) }
    #cursor-ring{ width:36px; height:36px; border-radius:50%; border:2px solid rgba(255,255,255,.4); box-shadow:0 0 14px var(--neon-pink); transform:translate(-50%,-50%); transition:width .15s,height .15s,opacity .2s }
    .cursor-off #cursor-dot,.cursor-off #cursor-ring{ opacity:0 }

    /* Admin bot√£o + backdrop + painel */
    .admin-btn{
      position:fixed; top:14px; right:14px; z-index:100; border:none; cursor:pointer;
      padding:10px 14px; border-radius:12px; background:linear-gradient(45deg,var(--neon-pink),var(--neon-cyan));
      color:#fff; font-weight:700; box-shadow:0 0 12px rgba(255,0,200,.6), 0 0 18px rgba(0,255,231,.4);
    }
    .backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.4); backdrop-filter:blur(2px); opacity:0; pointer-events:none; transition:opacity .3s; z-index:98 }
    .admin-open .backdrop{ opacity:1; pointer-events:auto }
    .admin-panel{
      position:fixed; top:0; right:0; width:360px; max-width:92vw; height:100vh; z-index:99;
      background:rgba(20,20,28,.92); border-left:1px solid var(--card-border); color:#eaeaea;
      transform:translateX(100%); transition:transform .35s ease; backdrop-filter:blur(12px);
    }
    .admin-open .admin-panel{ transform:none }
    .admin-header{ display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid var(--card-border) }
    .admin-header .close{ border:none; background:transparent; color:#fff; font-size:18px; cursor:pointer }
    .admin-content{ padding:14px 16px 20px }
    .admin-content .row{ display:flex; gap:8px; margin:8px 0 14px }
    .admin-content input[type="text"], .admin-content input[type="url"]{
      flex:1; padding:10px 12px; border-radius:10px; border:1px solid var(--card-border);
      background:rgba(255,255,255,.06); color:#fff; outline:none;
    }
    .admin-content label{ font-weight:600; font-size:.95rem }
    .msg{ font-size:.9rem; color:#ddd; min-height:1.2em }
    .tools.hidden{ display:none }
    .grid{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px; margin:8px 0 10px }
    .tool{ display:flex; align-items:center; gap:10px; background:rgba(255,255,255,.06); border:1px solid var(--card-border); padding:10px 12px; border-radius:12px }

    /* Switch */
    .switch{ position:relative; width:46px; height:26px; display:inline-block }
    .switch input{ display:none }
    .slider{ position:absolute; inset:0; background:#555; border-radius:20px; transition:.2s }
    .slider:before{ content:""; position:absolute; height:20px; width:20px; left:3px; top:3px; background:#fff; border-radius:50%; transition:.2s }
    .switch input:checked + .slider{ background:linear-gradient(45deg,var(--neon-cyan),var(--neon-pink)) }
    .switch input:checked + .slider:before{ transform:translateX(20px) }

    /* Hero */
    .hero{ text-align:center; padding:80px 20px 40px; position:relative; z-index:1 }
    .orbs{ position:absolute; inset:0; pointer-events:none }
    .orb{ position:absolute; width:240px; height:240px; border-radius:50%; filter:blur(40px); opacity:.5; transform:translateZ(0) }
    .orb1{ top:5%; left:12%; background:radial-gradient(circle at 30% 30%, var(--neon-pink), transparent 70%) }
    .orb2{ top:20%; right:10%; background:radial-gradient(circle at 70% 40%, var(--neon-cyan), transparent 70%) }
    .orb3{ bottom:10%; left:35%; background:radial-gradient(circle at 50% 50%, #ffd166, transparent 70%) }

    .glow-3d{
      font-size:3.6rem; line-height:1.1; cursor:pointer; display:inline-block;
      background:linear-gradient(90deg,var(--neon-pink),var(--neon-cyan)); -webkit-background-clip:text; -webkit-text-fill-color:transparent;
      text-shadow:0 0 10px rgba(255,0,200,.5), 0 0 18px rgba(0,255,231,.35), 0 0 28px rgba(255,255,255,.12);
      transition:transform .45s ease, text-shadow .45s ease;
    }
    .glow-3d:hover{ transform:perspective(300px) rotateY(15deg) scale(1.06); text-shadow:0 0 16px rgba(255,0,200,.9), 0 0 28px rgba(0,255,231,.7), 0 0 40px rgba(255,255,255,.3) }
    .subtitle{ margin-top:10px; font-size:1.15rem; color:#eaeaea }
    .caret{ margin-left:3px; opacity:.8; animation:blink 1s steps(2,end) infinite }
    @keyframes blink{ 0%,49%{opacity:1} 50%,100%{opacity:0} }

    .actions{ margin-top:22px; display:flex; gap:12px; justify-content:center; flex-wrap:wrap }
    .btn{
      border:none; cursor:pointer; font-weight:700; color:#fff; padding:12px 22px; border-radius:28px; position:relative; isolation:isolate;
      transform:translateZ(0); transition:transform .25s ease, filter .3s ease, box-shadow .3s ease;
    }
    .btn:hover{ transform:perspective(120px) rotateX(-6deg) translateY(-2px) scale(1.04) }
    .btn:active{ transform:scale(.98) }
    .btn-neon{ background:linear-gradient(45deg,var(--neon-pink),var(--neon-cyan)); box-shadow:0 0 14px rgba(255,0,200,.6), 0 0 18px rgba(0,255,231,.4) }
    .btn-portal{ background:linear-gradient(45deg,var(--neon-cyan),var(--neon-pink)); box-shadow:0 0 16px rgba(0,255,231,.6), 0 0 22px rgba(255,0,200,.45) }
    .btn-portal::before{ content:""; position:absolute; inset:-2px; border-radius:inherit; z-index:-1; background:conic-gradient(from 0deg,var(--neon-cyan),var(--neon-pink),var(--neon-cyan)); filter:blur(10px); opacity:.7; animation:spin 4s linear infinite }
    @keyframes spin{ to{ transform:rotate(360deg) } }

    /* Cards */
    .card{ background:var(--card-bg); backdrop-filter:blur(14px); border:1px solid var(--card-border); border-radius:16px; margin:36px auto; padding:28px; max-width:760px; box-shadow:0 10px 28px rgba(0,0,0,.45); transform-style:preserve-3d; transition:transform .3s ease, box-shadow .3s ease }
    .card:hover{ transform:translateY(-10px) scale(1.02); box-shadow:0 18px 40px rgba(0,0,0,.55) }
    .card h2{ font-weight:700; margin-bottom:8px; letter-spacing:.5px }
    .card ul{ padding-left:18px }
    .hidden{ display:none !important }

    /* Flip 3D */
    .flip{ perspective:1000px }
    .card-inner{ position:relative; min-height:170px; transform-style:preserve-3d; transition:transform .9s cubic-bezier(.68,-0.55,.27,1.55) }
    .flip:hover .card-inner{ transform:rotateY(180deg) }
    .card-face{ position:absolute; inset:0; padding:28px; border-radius:14px; display:flex; align-items:center; justify-content:center; text-align:center; backface-visibility:hidden }
    .card-back{ transform:rotateY(180deg) }

    /* Holograma */
    .holo{ position:relative; overflow:hidden; border:1px solid rgba(255,255,255,.22) }
    .holo::after{ content:""; position:absolute; inset:-120%; background:linear-gradient(120deg, transparent 30%, rgba(255,255,255,.22) 50%, transparent 70%); transform:rotate(10deg); animation:scan 4.8s ease-in-out infinite }
    @keyframes scan{ 0%{transform:translateY(-50%) rotate(10deg)} 50%{transform:translateY(50%) rotate(10deg)} 100%{transform:translateY(-50%) rotate(10deg)} }

    /* Tilt */
    .tilt-target{ --rx:0deg; --ry:0deg; --tz:0px; transform:rotateX(var(--rx)) rotateY(var(--ry)) translateZ(var(--tz)) }
    .tilt-3d{ --tz:20px }

    /* Cubo */
    .cube-section{ text-align:center }
    .cube-scene{ width:240px; height:240px; margin:22px auto 6px; perspective:900px }
    .cube{ width:170px; height:170px; position:relative; margin:auto; transform-style:preserve-3d; animation:cubespin 10s linear infinite }
    .cube.paused{ animation-play-state:paused }
    .face{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:1.2rem; color:#fff8; border:2px solid rgba(255,255,255,.25); box-shadow:inset 0 0 18px rgba(255,255,255,.08), 0 0 18px rgba(255,0,200,.35), 0 0 24px rgba(0,255,231,.25); background:linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.02)) }
    .front{ transform:translateZ(85px) }
    .back{ transform:rotateY(180deg) translateZ(85px) }
    .right{ transform:rotateY(90deg) translateZ(85px) }
    .left{ transform:rotateY(-90deg) translateZ(85px) }
    .top{ transform:rotateX(90deg) translateZ(85px) }
    .bottom{ transform:rotateX(-90deg) translateZ(85px) }
    @keyframes cubespin{ 0%{ transform:rotateX(0) rotateY(0)} 100%{ transform:rotateX(360deg) rotateY(360deg)} }
    .cube-hint{ color:var(--muted) }

    /* V√≠deo embed */
    .video-wrapper{ width:100%; aspect-ratio:16/9; border-radius:12px; overflow:hidden; border:1px solid var(--card-border); box-shadow:0 10px 28px rgba(0,0,0,.55) }
    .video-wrapper iframe{ width:100%; height:100%; border:0 }

    /* Entrada suave */
    .slide-up{ opacity:0; transform:translateY(40px); animation:reveal 1.1s forwards }
    .delay{ animation-delay:.6s } .delay2{ animation-delay:1.1s } .delay3{ animation-delay:1.7s }
    @keyframes reveal{ to{opacity:1; transform:translateY(0)} }

    /* Arco-√≠ris */
    .rainbow-mode{ background:linear-gradient(120deg,#ff9a9e,#fad0c4,#fbc2eb,#a6c1ee,#fddb92,#d1fdff); background-size:600% 600%; animation:rainbowBg 12s linear infinite }
    @keyframes rainbowBg{ 0%{background-position:0% 50%} 100%{background-position:100% 50%} }

    /* Footer */
    footer{ text-align:center; padding:34px 16px 50px; color:var(--muted) }

    /* Acessibilidade */
    @media (prefers-reduced-motion:reduce){ *{ animation:none !important; transition:none !important } }
  </style>
</head>
<body>
  <!-- Fundos animados -->
  <canvas id="bg-canvas" aria-hidden="true"></canvas>
  <canvas id="fx-canvas" aria-hidden="true"></canvas>
  <canvas id="matrix-canvas" aria-hidden="true"></canvas>

  <!-- Cursor neon -->
  <div id="cursor-dot" aria-hidden="true"></div>
  <div id="cursor-ring" aria-hidden="true"></div>

  <!-- Bot√£o Admin (engrenagem) -->
  <button id="open-admin" class="admin-btn" aria-label="Abrir painel admin">‚öôÔ∏è</button>
  <div id="backdrop" class="backdrop" aria-hidden="true"></div>

  <header class="hero">
    <div class="orbs" aria-hidden="true">
      <span class="orb orb1"></span>
      <span class="orb orb2"></span>
      <span class="orb orb3"></span>
    </div>

    <h1 id="name" class="glow-3d magnet">‚ú® Willian ‚ú®</h1>
    <p class="subtitle"><span id="typed"></span><span class="caret">|</span></p>

    <div class="actions">
      <button id="magic-btn" class="btn btn-neon magnet" aria-label="Mudar o fundo">Mudar Fundo üé®</button>
      <button id="redirect-gif-btn" class="btn btn-portal magnet" aria-label="Ir para o GIF">Ver GIF üé¨</button>
    </div>
  </header>

  <main>
    <!-- Sobre mim -->
    <section id="about" class="card holo tilt-target slide-up">
      <h2>Sobre mim</h2>
      <p>Editor de v√≠deos amador, Um dos membros do Portugol Lovers e um porgramador amador de Roblox Studio.</p>
    </section>



    <!-- Card tilt 3D -->
    <section class="card tilt-3d tilt-target slide-up delay2">
      <h2>Interesses</h2>
      <ul>
        <li>üí° Programa√ß√£o Do Roblox Studio</li>
        <li>üß™ Edi√ß√£o de v√≠deo no After Effects</li>
        <li>üéß M√∫sica lo‚Äëfi para foco</li>
      </ul>
    </section>

    <!-- Cubo 3D -->
    <section class="cube-section slide-up delay3">
      <h2 class="cube-title">Cubo Neon 3D</h2>
      <div class="cube-scene" aria-hidden="true">
        <div class="cube" id="cube">
          <div class="face front">01</div>
          <div class="face back">02</div>
          <div class="face right">03</div>
          <div class="face left">04</div>
          <div class="face top">05</div>
          <div class="face bottom">06</div>
        </div>
      </div>
      <p class="cube-hint">Passe o mouse para pausar/retomar a rota√ß√£o.</p>
    </section>

    <!-- Se√ß√£o de v√≠deo (controlada pelo Admin Panel) -->
    <section id="admin-video" class="card slide-up hidden">
      <h2>V√≠deo do Admin</h2>
      <div class="video-wrapper"></div>
      <p class="hint">Dica: abra o Painel Admin, digite a chave e cole a URL do YouTube.</p>
    </section>
  </main>

  <footer>
    <p>Feito com üíú por Daniel ‚Äî 2025</p>
  </footer>

  <!-- Painel Admin -->
  <aside id="admin-panel" class="admin-panel" aria-hidden="true">
    <header class="admin-header">
      <h2>Admin Panel</h2>
      <button id="close-admin" class="close" aria-label="Fechar">‚úñ</button>
    </header>

    <div class="admin-content">
      <label for="key-input">Chave de acesso</label>
      <div class="row">
        <input id="key-input" type="text" placeholder='Digite a chave'/>
        <button id="verify-key" class="btn btn-neon">Verificar</button>
      </div>
      <p id="key-msg" class="msg"></p>

      <div id="admin-tools" class="tools hidden">
        <hr/>
        <h3>Ferramentas do Admin</h3>

        <label for="youtube-url">URL do YouTube para embutir</label>
        <div class="row">
          <input id="youtube-url" type="url" placeholder="https://www.youtube.com/watch?v=... ou https://youtu.be/..."/>
          <button id="load-video" class="btn btn-portal">Carregar v√≠deo</button>
        </div>

        <div class="grid">
          <div class="tool">
            <label class="switch">
              <input type="checkbox" id="toggle-matrix"/>
              <span class="slider"></span>
            </label>
            <span>Matrix Rain</span>
          </div>
          <div class="tool">
            <label class="switch">
              <input type="checkbox" id="toggle-confetti" checked/>
              <span class="slider"></span>
            </label>
            <span>Confete ao clicar</span>
          </div>
          <div class="tool">
            <label class="switch">
              <input type="checkbox" id="toggle-cursor" checked/>
              <span class="slider"></span>
            </label>
            <span>Cursor Neon</span>
          </div>
          <div class="tool">
            <label class="switch">
              <input type="checkbox" id="toggle-rainbow"/>
              <span class="slider"></span>
            </label>
            <span>Modo Arco‚Äë√çris</span>
          </div>
        </div>

        <div class="grid">
          <div class="tool" style="flex-direction:column;align-items:flex-start">
            <label for="star-speed">Velocidade das estrelas</label>
            <input id="star-speed" type="range" min="0.5" max="12" step="0.5" value="2"/>
          </div>
          <div class="tool">
            <label for="color-pink">Neon Rosa</label>
            <input id="color-pink" type="color" value="#ff00c8"/>
          </div>
          <div class="tool">
            <label for="color-cyan">Neon Ciano</label>
            <input id="color-cyan" type="color" value="#00ffe7"/>
          </div>
        </div>

        <p class="tiny">Atalho: Ctrl+Shift+A abre/fecha o painel. Konami Code ativa festa üéâ</p>
      </div>
    </div>
  </aside>

  <script>
  // ===== Utilidades =====
  const $ = (sel, scope=document) => scope.querySelector(sel);
  const $$ = (sel, scope=document) => Array.from(scope.querySelectorAll(sel));

  // ===== Typed Effect =====
  (function typed(){
    const el = $('#typed');
    const phrases = [
      'Criando experi√™ncias 3D na web...',
      'Roblox Studio √© vida...',
      'Portugol Lovers Para Sempre!!',
    ];
    let i=0, j=0, deleting=false;
    const tick = () => {
      const p = phrases[i];
      el.textContent = p.slice(0, j);
      if(!deleting && j < p.length) j++;
      else if(deleting && j>0) j--;
      else { deleting = !deleting; if(!deleting) i = (i+1)%phrases.length; }
      setTimeout(tick, deleting?50:90);
    };
    tick();
  })();

  // ===== Cursor Neon =====
  (function cursor(){
    const dot = $('#cursor-dot');
    const ring = $('#cursor-ring');
    let x=0,y=0, rx=0, ry=0;
    window.addEventListener('mousemove', e=>{ x=e.clientX; y=e.clientY; dot.style.left=x+'px'; dot.style.top=y+'px' });
    const loop = ()=>{ rx += (x - rx)*.2; ry += (y - ry)*.2; ring.style.left=rx+'px'; ring.style.top=ry+'px'; requestAnimationFrame(loop) };
    loop();
    $$('.magnet').forEach(btn=>{
      btn.addEventListener('mouseenter',()=>{ ring.style.width='64px'; ring.style.height='64px' });
      btn.addEventListener('mouseleave',()=>{ ring.style.width='36px'; ring.style.height='36px' });
    });
  })();

  // ===== Parallax Orbs =====
  (function parallax(){
    const orbs = $$('.orb');
    window.addEventListener('mousemove', e=>{
      const cx = (e.clientX / window.innerWidth - .5);
      const cy = (e.clientY / window.innerHeight - .5);
      orbs.forEach((o, i)=>{
        const d = (i+1)*8; // profundidade
        o.style.transform = `translate(${cx*d}px, ${cy*d}px)`;
      });
    });
  })();

  // ===== Starfield (bg-canvas) =====
  (function starfield(){
    const c = $('#bg-canvas');
    const ctx = c.getContext('2d');
    let w, h, dpr = Math.min(window.devicePixelRatio||1, 2);
    let stars=[]; let speed=2; // controlado pelo admin
    function resize(){ w= c.width = innerWidth*dpr; h= c.height = innerHeight*dpr; c.style.width=innerWidth+'px'; c.style.height=innerHeight+'px'; ctx.setTransform(1,0,0,1,0,0); ctx.scale(dpr,dpr) }
    function spawn(){
      stars = Array.from({length: 300}, ()=>({
        x: (Math.random()*innerWidth),
        y: (Math.random()*innerHeight),
        z: (Math.random()*2+0.5),
      }));
    }
    function step(){
      ctx.clearRect(0,0,innerWidth,innerHeight);
      ctx.fillStyle = 'rgba(255,255,255,0.9)';
      for(const s of stars){
        s.y += s.z*speed*0.4; s.x += Math.sin(s.y*0.01)*0.1;
        if(s.y>innerHeight+4){ s.y=-4; s.x=Math.random()*innerWidth }
        const r = s.z*1.1;
        ctx.beginPath(); ctx.arc(s.x, s.y, r, 0, Math.PI*2); ctx.fill();
      }
      requestAnimationFrame(step);
    }
    resize(); spawn(); step();
    addEventListener('resize', ()=>{ resize(); spawn() });
    // Expor controle
    window.__setStarSpeed = (v)=>{ speed = Math.max(0.1, Number(v)||2) };
  })();

  // ===== FX Canvas (confetti / explos√µes) =====
  const FX = (function(){
    const c = $('#fx-canvas');
    const ctx = c.getContext('2d');
    let w,h,dpr=Math.min(devicePixelRatio||1,2);
    let particles=[]; let enabledClickConfetti=true;
    function resize(){ w=c.width=innerWidth*dpr; h=c.height=innerHeight*dpr; c.style.width=innerWidth+'px'; c.style.height=innerHeight+'px'; ctx.setTransform(1,0,0,1,0,0); ctx.scale(dpr,dpr) }
    function loop(){
      ctx.clearRect(0,0,innerWidth,innerHeight);
      for(const p of particles){
        p.vy += 0.15; p.x += p.vx; p.y += p.vy; p.life -= 1;
        ctx.globalAlpha = Math.max(p.life/60,0);
        ctx.fillStyle = p.color; ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
      }
      particles = particles.filter(p=>p.life>0 && p.y < innerHeight+50);
      requestAnimationFrame(loop);
    }
    function burst(x,y, n=60){
      for(let i=0;i<n;i++){
        const ang = Math.random()*Math.PI*2;
        particles.push({
          x, y, r: Math.random()*3+2,
          vx: Math.cos(ang)*(Math.random()*4+1),
          vy: Math.sin(ang)*(Math.random()*4+1)-3,
          color: `hsl(${Math.random()*360},100%,70%)`,
          life: 60+Math.random()*40,
        });
      }
    }
    function onClick(e){ if(!enabledClickConfetti) return; const x=e.clientX, y=e.clientY; burst(x,y) }
    resize(); loop();
    addEventListener('resize', resize);
    addEventListener('click', onClick);
    return {
      burst,
      enableClick(v){ enabledClickConfetti = !!v },
    };
  })();

  // ===== Matrix Rain (toggle) =====
  (function matrix(){
    const canvas = $('#matrix-canvas');
    const ctx = canvas.getContext('2d');
    let w,h,dpr=Math.min(devicePixelRatio||1,2); let cols, drops, chars;
    function resize(){ w=canvas.width=innerWidth*dpr; h=canvas.height=innerHeight*dpr; canvas.style.width=innerWidth+'px'; canvas.style.height=innerHeight+'px'; ctx.setTransform(1,0,0,1,0,0); ctx.scale(dpr,dpr); cols=Math.floor(innerWidth/14); drops=Array(cols).fill(0); chars='„Ç¢„Ç´„Çµ„Çø„Éä„Éè„Éû„É§„É©„ÉØ0123456789'.split('') }
    function step(){
      ctx.fillStyle='rgba(0,0,0,0.06)'; ctx.fillRect(0,0,innerWidth,innerHeight);
      ctx.fillStyle='rgba(0,255,140,0.9)'; ctx.font='14px monospace';
      for(let i=0;i<drops.length;i++){
        const text = chars[Math.floor(Math.random()*chars.length)];
        ctx.fillText(text, i*14, drops[i]*16);
        if(drops[i]*16>innerHeight && Math.random()>0.975) drops[i]=0; drops[i]++;
      }
      requestAnimationFrame(step);
    }
    resize(); step(); addEventListener('resize', resize);
  })();

  // ===== Tilt 3D gen√©rico =====
  (function tilt(){
    const targets = $$('.tilt-target');
    targets.forEach(el=>{
      el.addEventListener('mousemove', e=>{
        const r = el.getBoundingClientRect();
        const cx = (e.clientX - r.left)/r.width - .5;
        const cy = (e.clientY - r.top)/r.height - .5;
        el.style.setProperty('--rx', (-cy*10)+'deg');
        el.style.setProperty('--ry', (cx*10)+'deg');
      });
      el.addEventListener('mouseleave', ()=>{ el.style.setProperty('--rx','0deg'); el.style.setProperty('--ry','0deg') });
    });
  })();

  // ===== Cubo pause on hover =====
  (function cube(){
    const cube = $('#cube');
    cube.addEventListener('mouseenter', ()=>cube.classList.add('paused'));
    cube.addEventListener('mouseleave', ()=>cube.classList.remove('paused'));
  })();

  // ===== Bot√µes principais =====
  (function actions(){
    $('#magic-btn').addEventListener('click', ()=>{
      document.body.style.background = `linear-gradient(${Math.floor(Math.random()*360)}deg, var(--bg-start), var(--bg-mid), var(--bg-end))`;
      FX.burst(innerWidth*0.5, 80, 80);
    });
    $('#redirect-gif-btn').addEventListener('click', ()=>{
      window.open('https://i.makeagif.com/media/11-04-2024/EoxKZt.gif','_blank','noopener');
    });
  })();

  // ===== Admin Panel =====
  (function admin(){
    const openBtn = $('#open-admin');
    const closeBtn = $('#close-admin');
    const panel = $('#admin-panel');
    const backdrop = $('#backdrop');
    const tools = $('#admin-tools');
    const keyInput = $('#key-input');
    const keyMsg = $('#key-msg');
    const verify = $('#verify-key');

    function open(){ document.body.classList.add('admin-open') }
    function close(){ document.body.classList.remove('admin-open') }
    openBtn.addEventListener('click', open);
    closeBtn.addEventListener('click', close);
    backdrop.addEventListener('click', close);

    window.addEventListener('keydown', (e)=>{
      if(e.ctrlKey && e.shiftKey && e.code==='KeyA'){ e.preventDefault(); document.body.classList.toggle('admin-open') }
    });

    verify.addEventListener('click', ()=>{
      const key = (keyInput.value||'').trim();
      if(key === 'Diego'){
        keyMsg.textContent = '‚úÖ Acesso concedido. Bem-vindo, comandante!';
        tools.classList.remove('hidden');
      } else {
        keyMsg.textContent = '‚ùå Acesso negado, invasor estelar!';
        tools.classList.add('hidden');
      }
    });

    $('#load-video').addEventListener('click', ()=>{
      const url = $('#youtube-url').value.trim();
      const id = extractYouTubeId(url);
      const section = $('#admin-video');
      const wrap = section.querySelector('.video-wrapper');
      if(!id){ alert('URL inv√°lida. Cole um link do YouTube.'); return }
      wrap.innerHTML = `<iframe width="560" height="315" src="https://www.youtube.com/embed/${id}" title="V√≠deo Secreto" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`;
      section.classList.remove('hidden');
      section.scrollIntoView({ behavior:'smooth', block:'center' });
    });
    function extractYouTubeId(u){
      try{
        const url = new URL(u);
        if(url.hostname.includes('youtu.be')) return url.pathname.slice(1);
        if(url.hostname.includes('youtube.com')) return (new URLSearchParams(url.search)).get('v');
        return null;
      }catch{ return null }
    }

    $('#toggle-matrix').addEventListener('change', (e)=> document.body.classList.toggle('matrix-on', e.target.checked));
    $('#toggle-confetti').addEventListener('change', (e)=> FX.enableClick(e.target.checked));
    $('#toggle-cursor').addEventListener('change', (e)=> document.body.classList.toggle('cursor-off', !e.target.checked));
    $('#toggle-rainbow').addEventListener('change', (e)=> document.body.classList.toggle('rainbow-mode', e.target.checked));
    $('#star-speed').addEventListener('input', (e)=> window.__setStarSpeed(e.target.value));

    const root = document.documentElement;
    $('#color-pink').addEventListener('input', (e)=> root.style.setProperty('--neon-pink', e.target.value));
    $('#color-cyan').addEventListener('input', (e)=> root.style.setProperty('--neon-cyan', e.target.value));
  })();

  // ===== Konami Code =====
  (function konami(){
    const seq = ['ArrowUp','ArrowUp','ArrowDown','ArrowDown','ArrowLeft','ArrowRight','ArrowLeft','ArrowRight','KeyB','KeyA'];
    let idx=0;
    window.addEventListener('keydown', (e)=>{
      if(e.code===seq[idx]) idx++; else idx=0;
      if(idx===seq.length){ idx=0; FX.burst(innerWidth*0.5, innerHeight*0.5, 140) }
    });
  })();

  // ===== Acessibilidade: reduzir movimento =====
  if(window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches){
    document.body.classList.add('cursor-off');
  }
  </script>
</body>
</html>